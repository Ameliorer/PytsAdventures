import pygame
from sys import exit
import time
from debug import debug
from player import Player
from StaticObstacle import StaticObstacle
from fantome import Fantome

pygame.init()
pygame.display.set_caption("Pyt's Adventures")
clock = pygame.time.Clock()
screen_width, screen_height = 1280, 720
screen = pygame.display.set_mode((screen_width, screen_height))

sprite1 = pygame.sprite.Group()
collisions = pygame.sprite.Group()
walls = pygame.sprite.Group()


StaticObstacle((0, 0), (1280, 20), [walls, collisions])
StaticObstacle((0, 700), (1280, 20), [walls, collisions])
StaticObstacle((0, 0), (20, 720), [walls, collisions])
StaticObstacle((1260, 0), (20, 720), [walls, collisions])
StaticObstacle((200, 50), (500, 20), [walls, collisions])
StaticObstacle((200, 250), (120, 20), [walls, collisions])
StaticObstacle((250, 50), (20, 200), [walls, collisions])

# player = Player(sprite1, walls)
fantome = Fantome(sprite1, [(20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 20, 30, 60), (20, 21, 30, 60), (20, 21, 30, 60), (20, 21, 30, 60), (20, 22, 30, 60), (20, 22, 30, 60), (20, 23, 30, 60), (20, 23, 30, 60), (20, 24, 30, 60), (20, 24, 30, 60), (20, 25, 30, 60), (20, 25, 30, 60), (20, 25, 30, 60), (20, 26, 30, 60), (20, 26, 30, 60), (20, 27, 30, 60), (20, 27, 30, 60), (20, 28, 30, 60), (20, 28, 30, 60), (20, 28, 30, 60), (20, 29, 30, 60), (20, 29, 30, 60), (20, 30, 30, 60), (20, 30, 30, 60), (20, 31, 30, 60), (20, 31, 30, 60), (20, 31, 30, 60), (20, 32, 30, 60), (20, 32, 30, 60), (20, 32, 30, 60), (20, 33, 30, 60), (20, 33, 30, 60), (20, 34, 30, 60), (20, 34, 30, 60), (20, 34, 30, 60), (20, 35, 30, 60), (20, 35, 30, 60), (20, 36, 30, 60), (20, 36, 30, 60), (20, 36, 30, 60), (20, 37, 30, 60), (20, 37, 30, 60), (20, 37, 30, 60), (20, 37, 30, 60), (20, 38, 30, 60), (20, 38, 30, 60), (20, 38, 30, 60), (20, 38, 30, 60), (20, 39, 30, 60), (20, 39, 30, 60), (20, 39, 30, 60), (20, 40, 30, 60), (20, 40, 30, 60), (20, 40, 30, 60), (20, 40, 30, 60), (20, 41, 30, 60), (20, 41, 30, 60), (20, 41, 30, 60), (20, 41, 30, 60), (20, 42, 30, 60), (20, 42, 30, 60), (20, 42, 30, 60), (20, 42, 30, 60), (20, 42, 30, 60), (20, 43, 30, 60), (20, 43, 30, 60), (20, 43, 30, 60), (20, 43, 30, 60), (20, 44, 30, 60), (20, 44, 30, 60), (20, 44, 30, 60), (20, 44, 30, 60), (20, 45, 30, 60), (20, 45, 30, 60), (20, 45, 30, 60), (20, 45, 30, 60), (20, 46, 30, 60), (20, 46, 30, 60), (20, 46, 30, 60), (20, 46, 30, 60), (20, 47, 30, 60), (20, 47, 30, 60), (20, 47, 30, 60), (20, 47, 30, 60), (20, 48, 30, 60), (20, 48, 30, 60), (20, 48, 30, 60), (20, 48, 30, 60), (20, 49, 30, 60), (20, 49, 30, 60), (20, 49, 30, 60), (20, 49, 30, 60), (20, 49, 30, 60), (20, 50, 30, 60), (20, 50, 30, 60), (20, 50, 30, 60), (20, 50, 30, 60), (20, 50, 30, 60), (20, 51, 30, 60), (20, 51, 30, 60), (20, 51, 30, 60), (20, 52, 30, 60), (20, 52, 30, 60), (20, 52, 30, 60), (20, 52, 30, 60), (20, 53, 30, 60), (20, 53, 30, 60), (20, 53, 30, 60), (20, 53, 30, 60), (20, 53, 30, 60), (20, 54, 30, 60), (20, 54, 30, 60), (20, 54, 30, 60), (20, 54, 30, 60), (20, 54, 30, 60), (20, 55, 30, 60), (20, 55, 30, 60), (20, 55, 30, 60), (20, 56, 30, 60), (20, 56, 30, 60), (20, 56, 30, 60), (20, 57, 30, 60), (20, 57, 30, 60), (20, 57, 30, 60), (20, 57, 30, 60), (20, 58, 30, 60), (20, 58, 30, 60), (20, 58, 30, 60), (20, 58, 30, 60), (20, 58, 30, 60), (20, 59, 30, 60), (20, 59, 30, 60), (20, 59, 30, 60), (20, 59, 30, 60), (20, 60, 30, 60), (20, 60, 30, 60), (20, 60, 30, 60), (20, 60, 30, 60), (20, 61, 30, 60), (20, 61, 30, 60), (20, 61, 30, 60), (20, 61, 30, 60), (20, 61, 30, 60), (20, 62, 30, 60), (20, 62, 30, 60), (20, 62, 30, 60), (20, 62, 30, 60), (20, 63, 30, 60), (20, 63, 30, 60), (20, 63, 30, 60), (20, 63, 30, 60), (20, 63, 30, 60), (20, 64, 30, 60), (20, 64, 30, 60), (20, 65, 30, 60), (20, 65, 30, 60), (20, 65, 30, 60), (20, 65, 30, 60), (20, 66, 30, 60), (20, 66, 30, 60), (20, 66, 30, 60), (20, 66, 30, 60), (20, 66, 30, 60), (20, 67, 30, 60), (20, 67, 30, 60), (20, 67, 30, 60), (20, 67, 30, 60), (20, 67, 30, 60), (20, 68, 30, 60), (20, 68, 30, 60), (20, 69, 30, 60), (20, 69, 30, 60), (20, 69, 30, 60), (20, 69, 30, 60), (20, 70, 30, 60), (20, 70, 30, 60), (20, 70, 30, 60), (20, 70, 30, 60), (20, 70, 30, 60), (20, 71, 30, 60), (20, 71, 30, 60), (20, 71, 30, 60), (20, 71, 30, 60), (20, 72, 30, 60), (20, 72, 30, 60), (20, 72, 30, 60), (20, 72, 30, 60), (20, 73, 30, 60), (20, 73, 30, 60), (20, 73, 30, 60), (20, 74, 30, 60), (20, 74, 30, 60), (20, 74, 30, 60), (20, 74, 30, 60), (20, 74, 30, 60), (20, 75, 30, 60), (20, 75, 30, 60), (20, 75, 30, 60), (20, 75, 30, 60), (20, 76, 30, 60), (20, 76, 30, 60), (20, 76, 30, 60), (20, 76, 30, 60), (20, 77, 30, 60), (20, 77, 30, 60), (20, 78, 30, 60), (20, 78, 30, 60), (20, 78, 30, 60), (20, 78, 30, 60), (20, 78, 30, 60), (20, 79, 30, 60), (20, 79, 30, 60), (20, 79, 30, 60), (20, 79, 30, 60), (20, 80, 30, 60), (20, 80, 30, 60), (20, 80, 30, 60), (20, 80, 30, 60), (20, 81, 30, 60), (20, 81, 30, 60), (20, 81, 30, 60), (20, 81, 30, 60), (20, 82, 30, 60), (20, 82, 30, 60), (20, 82, 30, 60), (20, 82, 30, 60), (20, 82, 30, 60), (20, 83, 30, 60), (20, 83, 30, 60), (20, 83, 30, 60), (20, 83, 30, 60), (20, 84, 30, 60), (20, 84, 30, 60), (20, 84, 30, 60), (20, 84, 30, 60), (20, 85, 30, 60), (20, 85, 30, 60), (20, 85, 30, 60), (20, 85, 30, 60), (20, 86, 30, 60), (20, 86, 30, 60), (20, 86, 30, 60), (20, 86, 30, 60), (20, 87, 30, 60), (20, 87, 30, 60), (20, 87, 30, 60), (20, 87, 30, 60), (20, 87, 30, 60), (20, 88, 30, 60), (20, 88, 30, 60), (20, 88, 30, 60), (20, 88, 30, 60), (20, 89, 30, 60), (20, 89, 30, 60), (20, 89, 30, 60), (20, 90, 30, 60), (20, 90, 30, 60), (20, 90, 30, 60), (20, 91, 30, 60), (20, 91, 30, 60), (20, 91, 30, 60), (20, 91, 30, 60), (20, 91, 30, 60), (20, 92, 30, 60), (20, 92, 30, 60), (20, 92, 30, 60), (20, 92, 30, 60), (20, 92, 30, 60), (20, 93, 30, 60), (20, 93, 30, 60), (20, 93, 30, 60), (20, 94, 30, 60), (20, 94, 30, 60), (20, 94, 30, 60), (20, 94, 30, 60), (20, 95, 30, 60), (20, 95, 30, 60), (20, 95, 30, 60), (20, 95, 30, 60), (20, 95, 30, 60), (20, 96, 30, 60), (20, 96, 30, 60), (20, 96, 30, 60), (20, 96, 30, 60), (20, 97, 30, 60), (20, 97, 30, 60), (20, 97, 30, 60), (20, 97, 30, 60), (20, 97, 30, 60), (20, 98, 30, 60), (20, 98, 30, 60), (20, 98, 30, 60), (20, 98, 30, 60), (20, 98, 30, 60), (20, 99, 30, 60), (20, 99, 30, 60), (20, 99, 30, 60), (20, 99, 30, 60), (20, 100, 30, 60), (20, 100, 30, 60), (20, 100, 30, 60), (20, 100, 30, 60), (20, 100, 30, 60), (20, 101, 30, 60), (20, 101, 30, 60), (20, 101, 30, 60), (20, 101, 30, 60), (20, 102, 30, 60), (20, 102, 30, 60), (20, 102, 30, 60), (20, 102, 30, 60), (20, 103, 30, 60), (20, 103, 30, 60), (20, 103, 30, 60), (20, 103, 30, 60), (20, 103, 30, 60), (20, 104, 30, 60), (20, 104, 30, 60), (20, 104, 30, 60), (20, 104, 30, 60), (20, 104, 30, 60), (20, 105, 30, 60), (20, 105, 30, 60), (20, 105, 30, 60), (20, 106, 30, 60), (20, 106, 30, 60), (20, 106, 30, 60), (20, 107, 30, 60), (20, 107, 30, 60), (20, 107, 30, 60), (20, 107, 30, 60), (20, 108, 30, 60), (20, 108, 30, 60), (20, 108, 30, 60), (20, 108, 30, 60), (20, 108, 30, 60), (20, 109, 30, 60), (20, 109, 30, 60), (20, 109, 30, 60), (20, 110, 30, 60), (20, 110, 30, 60), (20, 110, 30, 60), (20, 110, 30, 60), (20, 111, 30, 60), (20, 111, 30, 60), (20, 111, 30, 60), (20, 111, 30, 60), (20, 112, 30, 60), (20, 112, 30, 60), (20, 112, 30, 60), (20, 112, 30, 60), (20, 113, 30, 60), (20, 113, 30, 60), (20, 113, 30, 60), (20, 113, 30, 60), (20, 114, 30, 60), (20, 114, 30, 60), (20, 114, 30, 60), (20, 115, 30, 60), (20, 115, 30, 60), (20, 115, 30, 60), (20, 115, 30, 60), (20, 116, 30, 60), (20, 116, 30, 60), (20, 116, 30, 60), (20, 116, 30, 60), (20, 117, 30, 60), (20, 117, 30, 60), (20, 117, 30, 60), (20, 117, 30, 60), (20, 118, 30, 60), (20, 118, 30, 60), (20, 118, 30, 60), (20, 118, 30, 60), (20, 119, 30, 60), (20, 119, 30, 60), (20, 119, 30, 60), (20, 119, 30, 60), (20, 119, 30, 60), (20, 120, 30, 60), (20, 120, 30, 60), (20, 120, 30, 60), (20, 120, 30, 60), (20, 121, 30, 60), (20, 121, 30, 60), (20, 121, 30, 60), (20, 121, 30, 60), (20, 122, 30, 60), (20, 122, 30, 60), (20, 122, 30, 60), (20, 123, 30, 60), (20, 123, 30, 60), (20, 123, 30, 60), (20, 123, 30, 60), (20, 124, 30, 60), (20, 124, 30, 60), (20, 124, 30, 60), (20, 124, 30, 60), (20, 124, 30, 60), (20, 125, 30, 60), (20, 125, 30, 60), (20, 125, 30, 60), (20, 125, 30, 60), (20, 126, 30, 60), (20, 126, 30, 60), (20, 126, 30, 60), (20, 126, 30, 60), (20, 127, 30, 60), (20, 127, 30, 60), (20, 127, 30, 60), (20, 127, 30, 60), (20, 128, 30, 60), (20, 128, 30, 60), (20, 128, 30, 60), (20, 128, 30, 60), (20, 128, 30, 60), (20, 129, 30, 60), (20, 129, 30, 60), (20, 129, 30, 60), (20, 130, 30, 60), (20, 130, 30, 60), (20, 130, 30, 60), (20, 131, 30, 60), (20, 131, 30, 60), (20, 131, 30, 60), (20, 131, 30, 60), (20, 132, 30, 60), (20, 132, 30, 60), (20, 132, 30, 60), (20, 132, 30, 60), (20, 132, 30, 60), (20, 133, 30, 60), (20, 133, 30, 60), (20, 133, 30, 60), (20, 133, 30, 60), (20, 134, 30, 60), (20, 134, 30, 60), (20, 134, 30, 60), (20, 134, 30, 60), (20, 135, 30, 60), (20, 135, 30, 60), (20, 135, 30, 60)])

last_time = time.time()

while True:

    dt = time.time() - last_time
    last_time = time.time()

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            # print(player.souvenir_pos)
            pygame.quit()
            exit()

    screen.fill('white')

    walls.update(dt)


    walls.draw(screen)

    sprite1.update(dt)
    sprite1.draw(screen)

    #    for wall in walls:
    #    pygame.draw.rect(screen, (0, 0, 0), wall)

    pygame.display.update()
